<html>
<head><meta name="Generator" content="sedsed --htmlize">
<title>Colorized fdirname.sed</title></head>
<body bgcolor="#000000" text="#ffffff"
      link="#ff00ff" alink="#ff00ff" vlink="#ff00ff">
<pre>
<font color="#00ffff"><b>#!/usr/bin/sed -f</b></font>

<font color="#00ffff"><b># usage: find path -print | fdirname</b></font>
<font color="#00ffff"><b>#</b></font>
<font color="#00ffff"><b># fdirname acts like dirname, but read files from stdin</b></font>

<font color="#00ffff"><b># print the directory component of a path</b></font>

<font color="#00ffff"><b># special case: `/' is given</b></font>
<font color="#ff6060"><b>/</b></font><font color="#8080ff"><b>^\/$</b></font><font color="#ff6060"><b>/</b></font> <font color="#ffff00"><b>c</b></font><font color="#00ff00"><b>\
</b></font>/

<font color="#00ffff"><b># strip trailing `/'s if any</b></font>
<font color="#ffff00"><b>s</b></font><font color="#ff6060"><b>/</b></font><font color="#8080ff"><b>\/*$</b></font><font color="#ff6060"><b>/</b></font><font color="#ff6060"><b>/</b></font>
<font color="#00ffff"><b># strip trailing filename</b></font>
<font color="#ffff00"><b>s</b></font><font color="#ff6060"><b>/</b></font><font color="#8080ff"><b>[^/]*$</b></font><font color="#ff6060"><b>/</b></font><font color="#ff6060"><b>/</b></font>

<font color="#00ffff"><b># if get no chars after these, then we have current dir (things like</b></font>
<font color="#00ffff"><b># `bin/ src/' were given</b></font>
<font color="#ff6060"><b>/</b></font><font color="#8080ff"><b>.</b></font><font color="#ff6060"><b>/</b></font> <font color="#ff6060"><b>!</b></font><font color="#ffff00"><b>c</b></font><font color="#00ff00"><b>\
</b></font>.

<font color="#00ffff"><b># delete the trailing `/'</b></font>
<font color="#00ffff"><b># ("/usr/bin/ls" --&gt; "/usr/bin/", this makes "/usr/bin")</b></font>
<font color="#ffff00"><b>s</b></font><font color="#ff6060"><b>/</b></font><font color="#8080ff"><b>\/$</b></font><font color="#ff6060"><b>/</b></font><font color="#ff6060"><b>/</b></font>

<font color="#00ffff"><b>### colorized by <a href="https://aurelio.net/projects/sedsed/">sedsed</a>, a debugger and code formatter for sed scripts
### original script: <a href="http://sed.sf.net/grabbag/scripts/fdirname.sed">http://sed.sf.net/grabbag/scripts/fdirname.sed</a></b></font>

</pre></body></html>
